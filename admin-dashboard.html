<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard - AutoTrader.lk</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #f8fafc;
            color: #1f2937;
            line-height: 1.6;
        }

        /* Layout */
        .dashboard-container {
            display: flex;
            min-height: 100vh;
        }

        /* Sidebar */
        .sidebar {
            width: 260px;
            background: linear-gradient(135deg, #1e3a8a 0%, #3b82f6 100%);
            color: white;
            position: fixed;
            height: 100vh;
            overflow-y: auto;
            z-index: 1000;
        }

        .sidebar-header {
            padding: 20px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .logo {
            font-size: 1.5rem;
            font-weight: 800;
            color: white;
        }

        .admin-info {
            font-size: 0.9rem;
            opacity: 0.8;
            margin-top: 5px;
        }

        .sidebar-nav {
            padding: 20px 0;
        }

        .nav-section {
            margin-bottom: 30px;
        }

        .nav-section-title {
            padding: 0 20px 10px;
            font-size: 0.8rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            opacity: 0.7;
            font-weight: 600;
        }

        .nav-item {
            display: flex;
            align-items: center;
            padding: 12px 20px;
            color: rgba(255,255,255,0.8);
            text-decoration: none;
            transition: all 0.3s;
            cursor: pointer;
            border: none;
            background: none;
            width: 100%;
            text-align: left;
        }

        .nav-item:hover {
            background: rgba(255,255,255,0.1);
            color: white;
        }

        .nav-item.active {
            background: rgba(255,255,255,0.15);
            color: white;
            border-right: 3px solid #fbbf24;
        }

        .nav-icon {
            margin-right: 12px;
            font-size: 1.1rem;
            width: 20px;
        }

        .notification-badge {
            background: #ef4444;
            color: white;
            font-size: 0.7rem;
            padding: 2px 6px;
            border-radius: 10px;
            margin-left: auto;
        }

        /* Main Content */
        .main-content {
            flex: 1;
            margin-left: 260px;
            padding: 20px;
        }

        .page-header {
            background: white;
            padding: 20px 30px;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
            margin-bottom: 30px;
        }

        .page-title {
            font-size: 2rem;
            font-weight: 700;
            color: #1e3a8a;
            margin-bottom: 5px;
        }

        .page-subtitle {
            color: #64748b;
            font-size: 0.95rem;
        }

        /* Content Sections */
        .content-section {
            display: none;
        }

        .content-section.active {
            display: block;
        }

        /* Cards */
        .card {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
            margin-bottom: 25px;
        }

        .card-header {
            display: flex;
            justify-content: between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid #e5e7eb;
        }

        .card-title {
            font-size: 1.3rem;
            font-weight: 700;
            color: #1e3a8a;
        }

        /* Stats Grid */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: white;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
            position: relative;
            overflow: hidden;
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
        }

        .stat-card.warning::before {
            background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
        }

        .stat-card.danger::before {
            background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
        }

        .stat-card.info::before {
            background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
        }

        .stat-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .stat-title {
            font-size: 0.9rem;
            color: #64748b;
            font-weight: 600;
        }

        .stat-icon {
            font-size: 1.5rem;
            opacity: 0.6;
        }

        .stat-value {
            font-size: 2.2rem;
            font-weight: 800;
            color: #1f2937;
            margin-bottom: 8px;
        }

        .stat-change {
            font-size: 0.85rem;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .stat-change.positive {
            color: #10b981;
        }

        .stat-change.negative {
            color: #ef4444;
        }

        /* Tables */
        .table-container {
            overflow-x: auto;
            border-radius: 8px;
            border: 1px solid #e5e7eb;
        }

        .table {
            width: 100%;
            border-collapse: collapse;
            background: white;
        }

        .table th {
            background: #f8fafc;
            padding: 15px;
            text-align: left;
            font-weight: 600;
            color: #374151;
            border-bottom: 1px solid #e5e7eb;
        }

        .table td {
            padding: 15px;
            border-bottom: 1px solid #f3f4f6;
            color: #1f2937;
        }

        .table tr:hover {
            background: #f8fafc;
        }

        /* Status Badges */
        .status-badge {
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .status-pending {
            background: #fef3c7;
            color: #92400e;
        }

        .status-approved {
            background: #d1fae5;
            color: #065f46;
        }

        .status-rejected {
            background: #fee2e2;
            color: #991b1b;
        }

        .status-reported {
            background: #fecaca;
            color: #7f1d1d;
        }

        /* Action Buttons */
        .action-buttons {
            display: flex;
            gap: 8px;
        }

        .btn {
            padding: 6px 12px;
            border: none;
            border-radius: 6px;
            font-size: 0.8rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 5px;
        }

        .btn-primary {
            background: #1e3a8a;
            color: white;
        }

        .btn-primary:hover {
            background: #1d4ed8;
        }

        .btn-success {
            background: #10b981;
            color: white;
        }

        .btn-success:hover {
            background: #059669;
        }

        .btn-danger {
            background: #ef4444;
            color: white;
        }

        .btn-danger:hover {
            background: #dc2626;
        }

        .btn-secondary {
            background: #6b7280;
            color: white;
        }

        .btn-secondary:hover {
            background: #4b5563;
        }

        /* Filters */
        .filters {
            background: white;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            display: flex;
            gap: 15px;
            align-items: center;
            flex-wrap: wrap;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        .filter-group {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .filter-label {
            font-size: 0.8rem;
            font-weight: 600;
            color: #374151;
        }

        .filter-select {
            padding: 8px 12px;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            font-size: 0.9rem;
            background: white;
        }

        .filter-select:focus {
            outline: none;
            border-color: #1e3a8a;
            box-shadow: 0 0 0 2px rgba(30, 58, 138, 0.1);
        }

        /* Charts Container */
        .charts-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 25px;
            margin-bottom: 30px;
        }

        .chart-container {
            background: white;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
        }

        .chart-placeholder {
            height: 300px;
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #64748b;
            font-weight: 600;
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 2000;
            align-items: center;
            justify-content: center;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: white;
            border-radius: 12px;
            padding: 30px;
            max-width: 600px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid #e5e7eb;
        }

        .modal-title {
            font-size: 1.3rem;
            font-weight: 700;
            color: #1e3a8a;
        }

        .modal-close {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #6b7280;
        }

        .modal-close:hover {
            color: #374151;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .sidebar {
                transform: translateX(-100%);
                transition: transform 0.3s;
            }

            .sidebar.mobile-open {
                transform: translateX(0);
            }

            .main-content {
                margin-left: 0;
                padding: 15px;
            }

            .stats-grid {
                grid-template-columns: 1fr;
            }

            .charts-grid {
                grid-template-columns: 1fr;
            }

            .filters {
                flex-direction: column;
                align-items: stretch;
            }

            .action-buttons {
                flex-direction: column;
            }
        }

        /* Mobile menu button */
        .mobile-menu-btn {
            display: none;
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 1001;
            background: #1e3a8a;
            color: white;
            border: none;
            padding: 10px;
            border-radius: 8px;
            cursor: pointer;
        }

        @media (max-width: 768px) {
            .mobile-menu-btn {
                display: block;
            }
        }

        /* Additional utility classes */
        .text-center { text-align: center; }
        .mb-20 { margin-bottom: 20px; }
        .mt-20 { margin-top: 20px; }
        
        .alert {
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        
        .alert-success {
            background: #d1fae5;
            color: #065f46;
            border: 1px solid #a7f3d0;
        }
        
        .alert-warning {
            background: #fef3c7;
            color: #92400e;
            border: 1px solid #fde68a;
        }
        
        .alert-danger {
            background: #fee2e2;
            color: #991b1b;
            border: 1px solid #fecaca;
        }

        .loading {
            opacity: 0.6;
            pointer-events: none;
        }
    </style>
</head>
<body>
    <button class="mobile-menu-btn" onclick="toggleMobileMenu()">‚ò∞</button>

    <div class="dashboard-container">
        <!-- Sidebar -->
        <div class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <div class="logo">AutoTrader.lk</div>
                <div class="admin-info">Admin Dashboard</div>
            </div>

            <nav class="sidebar-nav">
                <div class="nav-section">
                    <div class="nav-section-title">Overview</div>
                    <button class="nav-item active" onclick="showSection('dashboard')">
                        <span class="nav-icon">üìä</span>
                        Dashboard
                    </button>
                    <button class="nav-item" onclick="showSection('analytics')">
                        <span class="nav-icon">üìà</span>
                        Analytics
                    </button>
                </div>

                <div class="nav-section">
                    <div class="nav-section-title">Content Management</div>
                    <button class="nav-item" onclick="showSection('listings')">
                        <span class="nav-icon">üöó</span>
                        Vehicle Listings
                        <span class="notification-badge">24</span>
                    </button>
                    <button class="nav-item" onclick="showSection('wanted')">
                        <span class="nav-icon">üîç</span>
                        Wanted Requests
                        <span class="notification-badge">8</span>
                    </button>
                    <button class="nav-item" onclick="showSection('reported')">
                        <span class="nav-icon">‚ö†Ô∏è</span>
                        Reported Content
                        <span class="notification-badge">3</span>
                    </button>
                </div>

                <div class="nav-section">
                    <div class="nav-section-title">User Management</div>
                    <button class="nav-item" onclick="showSection('users')">
                        <span class="nav-icon">üë•</span>
                        Users
                    </button>
                    <button class="nav-item" onclick="showSection('memberships')">
                        <span class="nav-icon">üíé</span>
                        Memberships
                    </button>
                </div>

                <div class="nav-section">
                    <div class="nav-section-title">Settings</div>
                    <button class="nav-item" onclick="showSection('settings')">
                        <span class="nav-icon">‚öôÔ∏è</span>
                        Settings
                    </button>
                    <button class="nav-item" onclick="logout()">
                        <span class="nav-icon">üö™</span>
                        Logout
                    </button>
                </div>
            </nav>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Dashboard Section -->
            <div class="content-section active" id="dashboard">
                <div class="page-header">
                    <h1 class="page-title">Dashboard Overview</h1>
                    <p class="page-subtitle">Monitor your platform's performance and activity</p>
                </div>

                <!-- Stats Grid -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-title">Total Listings</span>
                            <span class="stat-icon">üöó</span>
                        </div>
                        <div class="stat-value">2,847</div>
                        <div class="stat-change positive">
                            <span>‚Üó</span> +12% from last month
                        </div>
                    </div>

                    <div class="stat-card warning">
                        <div class="stat-header">
                            <span class="stat-title">Pending Approval</span>
                            <span class="stat-icon">‚è≥</span>
                        </div>
                        <div class="stat-value">24</div>
                        <div class="stat-change">
                            <span>‚Üó</span> +8 since yesterday
                        </div>
                    </div>

                    <div class="stat-card info">
                        <div class="stat-header">
                            <span class="stat-title">Active Users</span>
                            <span class="stat-icon">üë•</span>
                        </div>
                        <div class="stat-value">1,235</div>
                        <div class="stat-change positive">
                            <span>‚Üó</span> +18% from last month
                        </div>
                    </div>

                    <div class="stat-card danger">
                        <div class="stat-header">
                            <span class="stat-title">Reported Content</span>
                            <span class="stat-icon">‚ö†Ô∏è</span>
                        </div>
                        <div class="stat-value">3</div>
                        <div class="stat-change negative">
                            <span>‚Üó</span> Needs attention
                        </div>
                    </div>
                </div>

                <!-- Charts -->
                <div class="charts-grid">
                    <div class="chart-container">
                        <div class="card-header">
                            <h3 class="card-title">Listing Activity (Last 30 Days)</h3>
                        </div>
                        <div class="chart-placeholder">üìä Chart: Daily listing submissions</div>
                    </div>

                    <div class="chart-container">
                        <div class="card-header">
                            <h3 class="card-title">Top Categories</h3>
                        </div>
                        <div class="chart-placeholder">ü•ß Chart: Vehicle categories</div>
                    </div>
                </div>

                <!-- Recent Activity -->
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">Recent Activity</h3>
                    </div>
                    <div class="table-container">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>Time</th>
                                    <th>Action</th>
                                    <th>User</th>
                                    <th>Details</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>2 min ago</td>
                                    <td>New Listing</td>
                                    <td>john@email.com</td>
                                    <td>Toyota Camry 2020 - Pending approval</td>
                                </tr>
                                <tr>
                                    <td>15 min ago</td>
                                    <td>Listing Approved</td>
                                    <td>admin</td>
                                    <td>Honda Civic 2019 - ID: #12847</td>
                                </tr>
                                <tr>
                                    <td>32 min ago</td>
                                    <td>Report Received</td>
                                    <td>mary@email.com</td>
                                    <td>Suspicious pricing - Listing #12834</td>
                                </tr>
                                <tr>
                                    <td>1 hour ago</td>
                                    <td>User Registration</td>
                                    <td>alex@email.com</td>
                                    <td>New user account created</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Vehicle Listings Section -->
            <div class="content-section" id="listings">
                <div class="page-header">
                    <h1 class="page-title">Vehicle Listings</h1>
                    <p class="page-subtitle">Review and moderate vehicle listings</p>
                </div>

                <!-- Filters -->
                <div class="filters">
                    <div class="filter-group">
                        <label class="filter-label">Status</label>
                        <select class="filter-select" onchange="filterListings('status', this.value)">
                            <option value="all">All Status</option>
                            <option value="pending">Pending</option>
                            <option value="approved">Approved</option>
                            <option value="rejected">Rejected</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label class="filter-label">Category</label>
                        <select class="filter-select" onchange="filterListings('category', this.value)">
                            <option value="all">All Categories</option>
                            <option value="sedan">Sedan</option>
                            <option value="suv">SUV</option>
                            <option value="hatchback">Hatchback</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label class="filter-label">Date</label>
                        <select class="filter-select" onchange="filterListings('date', this.value)">
                            <option value="all">All Time</option>
                            <option value="today">Today</option>
                            <option value="week">This Week</option>
                            <option value="month">This Month</option>
                        </select>
                    </div>
                </div>

                <!-- Listings Table -->
                <div class="card">
                    <div class="table-container">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Vehicle</th>
                                    <th>Seller</th>
                                    <th>Price</th>
                                    <th>Status</th>
                                    <th>Date</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="listingsTableBody">
                                <tr>
                                    <td>#12851</td>
                                    <td>Toyota Camry 2020</td>
                                    <td>john@email.com</td>
                                    <td>LKR 4,500,000</td>
                                    <td><span class="status-badge status-pending">Pending</span></td>
                                    <td>2024-01-15</td>
                                    <td>
                                        <div class="action-buttons">
                                            <button class="btn btn-primary" onclick="viewListing(12851)">üëÅÔ∏è View</button>
                                            <button class="btn btn-success" onclick="approveListing(12851)">‚úÖ Approve</button>
                                            <button class="btn btn-danger" onclick="rejectListing(12851)">‚ùå Reject</button>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>#12850</td>
                                    <td>Honda Civic 2019</td>
                                    <td>mary@email.com</td>
                                    <td>LKR 3,800,000</td>
                                    <td><span class="status-badge status-approved">Approved</span></td>
                                    <td>2024-01-15</td>
                                    <td>
                                        <div class="action-buttons">
                                            <button class="btn btn-primary" onclick="viewListing(12850)">üëÅÔ∏è View</button>
                                            <button class="btn btn-secondary" onclick="editListing(12850)">‚úèÔ∏è Edit</button>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>#12849</td>
                                    <td>BMW X5 2021</td>
                                    <td>alex@email.com</td>
                                    <td>LKR 12,500,000</td>
                                    <td><span class="status-badge status-pending">Pending</span></td>
                                    <td>2024-01-14</td>
                                    <td>
                                        <div class="action-buttons">
                                            <button class="btn btn-primary" onclick="viewListing(12849)">üëÅÔ∏è View</button>
                                            <button class="btn btn-success" onclick="approveListing(12849)">‚úÖ Approve</button>
                                            <button class="btn btn-danger" onclick="rejectListing(12849)">‚ùå Reject</button>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Wanted Requests Section -->
            <div class="content-section" id="wanted">
                <div class="page-header">
                    <h1 class="page-title">Wanted Requests</h1>
                    <p class="page-subtitle">Review and moderate vehicle wanted requests</p>
                </div>

                <div class="card">
                    <div class="table-container">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Request</th>
                                    <th>User</th>
                                    <th>Budget</th>
                                    <th>Status</th>
                                    <th>Date</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>#W2047</td>
                                    <td>Toyota Prius 2018-2020</td>
                                    <td>sarah@email.com</td>
                                    <td>LKR 3,000,000 - 4,000,000</td>
                                    <td><span class="status-badge status-pending">Pending</span></td>
                                    <td>2024-01-15</td>
                                    <td>
                                        <div class="action-buttons">
                                            <button class="btn btn-primary" onclick="viewWanted(2047)">üëÅÔ∏è View</button>
                                            <button class="btn btn-success" onclick="approveWanted(2047)">‚úÖ Approve</button>
                                            <button class="btn btn-danger" onclick="rejectWanted(2047)">‚ùå Reject</button>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>#W2046</td>
                                    <td>Honda Vezel Any Year</td>
                                    <td>david@email.com</td>
                                    <td>LKR 5,000,000 - 7,000,000</td>
                                    <td><span class="status-badge status-approved">Approved</span></td>
                                    <td>2024-01-14</td>
                                    <td>
                                        <div class="action-buttons">
                                            <button class="btn btn-primary" onclick="viewWanted(2046)">üëÅÔ∏è View</button>
                                            <button class="btn btn-secondary" onclick="editWanted(2046)">‚úèÔ∏è Edit</button>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Reported Content Section -->
            <div class="content-section" id="reported">
                <div class="page-header">
                    <h1 class="page-title">Reported Content</h1>
                    <p class="page-subtitle">Review and take action on reported listings and requests</p>
                </div>

                <div class="alert alert-warning">
                    <strong>‚ö†Ô∏è Attention Required:</strong> 3 reports need immediate review
                </div>

                <div class="card">
                    <div class="table-container">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>Report ID</th>
                                    <th>Content Type</th>
                                    <th>Content ID</th>
                                    <th>Reason</th>
                                    <th>Reporter</th>
                                    <th>Date</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>#R301</td>
                                    <td>Vehicle Listing</td>
                                    <td>#12834</td>
                                    <td>Suspicious Pricing</td>
                                    <td>user@email.com</td>
                                    <td>2024-01-15</td>
                                    <td><span class="status-badge status-reported">Under Review</span></td>
                                    <td>
                                        <div class="action-buttons">
                                            <button class="btn btn-primary" onclick="viewReport(301)">üëÅÔ∏è Review</button>
                                            <button class="btn btn-success" onclick="dismissReport(301)">‚úÖ Dismiss</button>
                                            <button class="btn btn-danger" onclick="takeAction(301)">üö´ Take Action</button>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>#R300</td>
                                    <td>Wanted Request</td>
                                    <td>#W2045</td>
                                    <td>Inappropriate Content</td>
                                    <td>reporter@email.com</td>
                                    <td>2024-01-14</td>
                                    <td><span class="status-badge status-reported">Under Review</span></td>
                                    <td>
                                        <div class="action-buttons">
                                            <button class="btn btn-primary" onclick="viewReport(300)">üëÅÔ∏è Review</button>
                                            <button class="btn btn-success" onclick="dismissReport(300)">‚úÖ Dismiss</button>
                                            <button class="btn btn-danger" onclick="takeAction(300)">üö´ Take Action</button>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>#R299</td>
                                    <td>Vehicle Listing</td>
                                    <td>#12831</td>
                                    <td>Fake Photos</td>
                                    <td>concerned@email.com</td>
                                    <td>2024-01-14</td>
                                    <td><span class="status-badge status-reported">Under Review</span></td>
                                    <td>
                                        <div class="action-buttons">
                                            <button class="btn btn-primary" onclick="viewReport(299)">üëÅÔ∏è Review</button>
                                            <button class="btn btn-success" onclick="dismissReport(299)">‚úÖ Dismiss</button>
                                            <button class="btn btn-danger" onclick="takeAction(299)">üö´ Take Action</button>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Analytics Section -->
            <div class="content-section" id="analytics">
                <div class="page-header">
                    <h1 class="page-title">Analytics</h1>
                    <p class="page-subtitle">Detailed insights and metrics</p>
                </div>

                <!-- Time Period Selector -->
                <div class="filters">
                    <div class="filter-group">
                        <label class="filter-label">Time Period</label>
                        <select class="filter-select" onchange="updateAnalytics(this.value)">
                            <option value="7d">Last 7 Days</option>
                            <option value="30d" selected>Last 30 Days</option>
                            <option value="90d">Last 3 Months</option>
                            <option value="1y">Last Year</option>
                        </select>
                    </div>
                </div>

                <!-- Analytics Stats -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-title">Page Views</span>
                            <span class="stat-icon">üëÅÔ∏è</span>
                        </div>
                        <div class="stat-value">89,247</div>
                        <div class="stat-change positive">
                            <span>‚Üó</span> +23% from last period
                        </div>
                    </div>

                    <div class="stat-card info">
                        <div class="stat-header">
                            <span class="stat-title">Unique Visitors</span>
                            <span class="stat-icon">üåê</span>
                        </div>
                        <div class="stat-value">15,432</div>
                        <div class="stat-change positive">
                            <span>‚Üó</span> +18% from last period
                        </div>
                    </div>

                    <div class="stat-card warning">
                        <div class="stat-header">
                            <span class="stat-title">Conversion Rate</span>
                            <span class="stat-icon">üìà</span>
                        </div>
                        <div class="stat-value">3.2%</div>
                        <div class="stat-change negative">
                            <span>‚Üò</span> -0.5% from last period
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-title">Avg. Session Duration</span>
                            <span class="stat-icon">‚è±Ô∏è</span>
                        </div>
                        <div class="stat-value">4:32</div>
                        <div class="stat-change positive">
                            <span>‚Üó</span> +12% from last period
                        </div>
                    </div>
                </div>

                <!-- Analytics Charts -->
                <div class="charts-grid">
                    <div class="chart-container">
                        <div class="card-header">
                            <h3 class="card-title">Traffic Overview</h3>
                        </div>
                        <div class="chart-placeholder">üìä Chart: Daily traffic and user engagement</div>
                    </div>

                    <div class="chart-container">
                        <div class="card-header">
                            <h3 class="card-title">Traffic Sources</h3>
                        </div>
                        <div class="chart-placeholder">ü•ß Chart: Organic, Direct, Social, Referral</div>
                    </div>
                </div>

                <!-- Additional Analytics -->
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">Top Performing Content</h3>
                    </div>
                    <div class="table-container">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>Content</th>
                                    <th>Type</th>
                                    <th>Views</th>
                                    <th>Engagement</th>
                                    <th>Conversion</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Toyota Camry 2020 - Silver</td>
                                    <td>Vehicle Listing</td>
                                    <td>2,847</td>
                                    <td>64%</td>
                                    <td>12 inquiries</td>
                                </tr>
                                <tr>
                                    <td>BMW X5 - Wanted Request</td>
                                    <td>Wanted Request</td>
                                    <td>1,923</td>
                                    <td>58%</td>
                                    <td>8 responses</td>
                                </tr>
                                <tr>
                                    <td>Honda Civic 2019 - Red</td>
                                    <td>Vehicle Listing</td>
                                    <td>1,654</td>
                                    <td>72%</td>
                                    <td>15 inquiries</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Users Section -->
            <div class="content-section" id="users">
                <div class="page-header">
                    <h1 class="page-title">User Management</h1>
                    <p class="page-subtitle">Manage user accounts and permissions</p>
                </div>

                <div class="filters">
                    <div class="filter-group">
                        <label class="filter-label">User Type</label>
                        <select class="filter-select">
                            <option value="all">All Users</option>
                            <option value="buyers">Buyers</option>
                            <option value="sellers">Sellers</option>
                            <option value="dealers">Dealers</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label class="filter-label">Status</label>
                        <select class="filter-select">
                            <option value="all">All Status</option>
                            <option value="active">Active</option>
                            <option value="inactive">Inactive</option>
                            <option value="suspended">Suspended</option>
                        </select>
                    </div>
                </div>

                <div class="card">
                    <div class="table-container">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>User ID</th>
                                    <th>Name</th>
                                    <th>Email</th>
                                    <th>Type</th>
                                    <th>Listings</th>
                                    <th>Join Date</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>#U1234</td>
                                    <td>John Silva</td>
                                    <td>john@email.com</td>
                                    <td>Seller</td>
                                    <td>3</td>
                                    <td>2024-01-10</td>
                                    <td><span class="status-badge status-approved">Active</span></td>
                                    <td>
                                        <div class="action-buttons">
                                            <button class="btn btn-primary" onclick="viewUser(1234)">üëÅÔ∏è View</button>
                                            <button class="btn btn-secondary" onclick="editUser(1234)">‚úèÔ∏è Edit</button>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>#U1235</td>
                                    <td>Mary Fernando</td>
                                    <td>mary@email.com</td>
                                    <td>Dealer</td>
                                    <td>15</td>
                                    <td>2024-01-08</td>
                                    <td><span class="status-badge status-approved">Active</span></td>
                                    <td>
                                        <div class="action-buttons">
                                            <button class="btn btn-primary" onclick="viewUser(1235)">üëÅÔ∏è View</button>
                                            <button class="btn btn-secondary" onclick="editUser(1235)">‚úèÔ∏è Edit</button>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Memberships Section -->
            <div class="content-section" id="memberships">
                <div class="page-header">
                    <h1 class="page-title">Membership Management</h1>
                    <p class="page-subtitle">Monitor membership subscriptions and revenue</p>
                </div>

                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-title">Total Subscribers</span>
                            <span class="stat-icon">üíé</span>
                        </div>
                        <div class="stat-value">347</div>
                        <div class="stat-change positive">
                            <span>‚Üó</span> +15% this month
                        </div>
                    </div>

                    <div class="stat-card info">
                        <div class="stat-header">
                            <span class="stat-title">Monthly Revenue</span>
                            <span class="stat-icon">üí∞</span>
                        </div>
                        <div class="stat-value">LKR 1.2M</div>
                        <div class="stat-change positive">
                            <span>‚Üó</span> +22% this month
                        </div>
                    </div>

                    <div class="stat-card warning">
                        <div class="stat-header">
                            <span class="stat-title">Churn Rate</span>
                            <span class="stat-icon">üìâ</span>
                        </div>
                        <div class="stat-value">5.2%</div>
                        <div class="stat-change negative">
                            <span>‚Üó</span> +1.2% this month
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-title">Avg. Lifetime Value</span>
                            <span class="stat-icon">üìä</span>
                        </div>
                        <div class="stat-value">LKR 24K</div>
                        <div class="stat-change positive">
                            <span>‚Üó</span> +8% this month
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">Membership Breakdown</h3>
                    </div>
                    <div class="table-container">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>Plan</th>
                                    <th>Subscribers</th>
                                    <th>Monthly Revenue</th>
                                    <th>Growth</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Professional</td>
                                    <td>124</td>
                                    <td>LKR 308,760</td>
                                    <td><span class="stat-change positive">+12%</span></td>
                                </tr>
                                <tr>
                                    <td>Business</td>
                                    <td>198</td>
                                    <td>LKR 988,020</td>
                                    <td><span class="stat-change positive">+18%</span></td>
                                </tr>
                                <tr>
                                    <td>Starter</td>
                                    <td>25</td>
                                    <td>LKR 24,750</td>
                                    <td><span class="stat-change negative">-5%</span></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Settings Section -->
            <div class="content-section" id="settings">
                <div class="page-header">
                    <h1 class="page-title">System Settings</h1>
                    <p class="page-subtitle">Configure platform settings and preferences</p>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">General Settings</h3>
                    </div>
                    <form onsubmit="saveSettings(event)">
                        <div style="display: grid; gap: 20px;">
                            <div class="filter-group">
                                <label class="filter-label">Site Name</label>
                                <input type="text" class="filter-select" value="AutoTrader.lk" style="padding: 12px;">
                            </div>
                            <div class="filter-group">
                                <label class="filter-label">Admin Email</label>
                                <input type="email" class="filter-select" value="admin@autotrader.lk" style="padding: 12px;">
                            </div>
                            <div class="filter-group">
                                <label class="filter-label">Auto-Approve Listings</label>
                                <select class="filter-select">
                                    <option value="false">Require Manual Approval</option>
                                    <option value="true">Auto-Approve</option>
                                </select>
                            </div>
                            <div class="filter-group">
                                <label class="filter-label">Maximum Photos Per Listing</label>
                                <input type="number" class="filter-select" value="15" style="padding: 12px;">
                            </div>
                            <button type="submit" class="btn btn-primary" style="width: fit-content; padding: 12px 24px;">
                                Save Settings
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal for Viewing Content -->
    <div class="modal" id="viewModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title" id="modalTitle">Content Details</h3>
                <button class="modal-close" onclick="closeModal()">&times;</button>
            </div>
            <div id="modalBody">
                <!-- Dynamic content will be loaded here -->
            </div>
        </div>
    </div>

    <script>
        // Global state
        let currentSection = 'dashboard';

        // Navigation
        function showSection(sectionId) {
            // Hide all sections
            document.querySelectorAll('.content-section').forEach(section => {
                section.classList.remove('active');
            });

            // Show selected section
            document.getElementById(sectionId).classList.add('active');

            // Update navigation
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            event.target.classList.add('active');

            currentSection = sectionId;

            // Update page title
            const titles = {
                dashboard: 'Dashboard Overview',
                analytics: 'Analytics & Insights',
                listings: 'Vehicle Listings Management',
                wanted: 'Wanted Requests Management',
                reported: 'Reported Content Review',
                users: 'User Management',
                memberships: 'Membership Management',
                settings: 'System Settings'
            };

            if (titles[sectionId]) {
                document.querySelector('.page-title').textContent = titles[sectionId];
            }
        }

        // Mobile menu toggle
        function toggleMobileMenu() {
            const sidebar = document.getElementById('sidebar');
            sidebar.classList.toggle('mobile-open');
        }

        // Filtering functions
        function filterListings(type, value) {
            console.log(`Filtering listings by ${type}: ${value}`);
            // In a real implementation, this would make an API call to filter results
            
            // Simulate loading
            const tableBody = document.getElementById('listingsTableBody');
            tableBody.classList.add('loading');
            
            setTimeout(() => {
                tableBody.classList.remove('loading');
                // Update table content based on filter
            }, 500);
        }

        // Listing management functions
        function viewListing(id) {
            showModal('Listing Details', `
                <div style="display: grid; gap: 15px;">
                    <div><strong>ID:</strong> #${id}</div>
                    <div><strong>Vehicle:</strong> Toyota Camry 2020</div>
                    <div><strong>Price:</strong> LKR 4,500,000</div>
                    <div><strong>Seller:</strong> john@email.com</div>
                    <div><strong>Description:</strong> Well maintained vehicle with full service history...</div>
                    <div><strong>Photos:</strong> 8 images uploaded</div>
                    <div><strong>Location:</strong> Colombo, Western Province</div>
                    <div style="margin-top: 20px;">
                        <button class="btn btn-success" onclick="approveListing(${id}); closeModal();">‚úÖ Approve</button>
                        <button class="btn btn-danger" onclick="rejectListing(${id}); closeModal();" style="margin-left: 10px;">‚ùå Reject</button>
                    </div>
                </div>
            `);
        }

        function approveListing(id) {
            console.log(`Approving listing #${id}`);
            showAlert('success', `Listing #${id} has been approved successfully!`);
            updateListingStatus(id, 'approved');
        }

        function rejectListing(id) {
            const reason = prompt('Please provide a reason for rejection:');
            if (reason) {
                console.log(`Rejecting listing #${id} - Reason: ${reason}`);
                showAlert('danger', `Listing #${id} has been rejected.`);
                updateListingStatus(id, 'rejected');
            }
        }

        function updateListingStatus(id, status) {
            // Find and update the status in the table
            const rows = document.querySelectorAll('#listingsTableBody tr');
            rows.forEach(row => {
                if (row.cells[0].textContent === `#${id}`) {
                    const statusCell = row.cells[4];
                    const statusClass = `status-${status}`;
                    statusCell.innerHTML = `<span class="status-badge ${statusClass}">${status.charAt(0).toUpperCase() + status.slice(1)}</span>`;
                    
                    // Update action buttons
                    if (status === 'approved') {
                        const actionsCell = row.cells[6];
                        actionsCell.innerHTML = `
                            <div class="action-buttons">
                                <button class="btn btn-primary" onclick="viewListing(${id})">üëÅÔ∏è View</button>
                                <button class="btn btn-secondary" onclick="editListing(${id})">‚úèÔ∏è Edit</button>
                            </div>
                        `;
                    }
                }
            });
        }

        // Wanted requests management
        function viewWanted(id) {
            showModal('Wanted Request Details', `
                <div style="display: grid; gap: 15px;">
                    <div><strong>ID:</strong> #W${id}</div>
                    <div><strong>Request:</strong> Toyota Prius 2018-2020</div>
                    <div><strong>Budget:</strong> LKR 3,000,000 - 4,000,000</div>
                    <div><strong>User:</strong> sarah@email.com</div>
                    <div><strong>Requirements:</strong> Hybrid, good condition, low mileage...</div>
                    <div><strong>Contact Preference:</strong> Email and Phone</div>
                    <div style="margin-top: 20px;">
                        <button class="btn btn-success" onclick="approveWanted(${id}); closeModal();">‚úÖ Approve</button>
                        <button class="btn btn-danger" onclick="rejectWanted(${id}); closeModal();" style="margin-left: 10px;">‚ùå Reject</button>
                    </div>
                </div>
            `);
        }

        function approveWanted(id) {
            console.log(`Approving wanted request #W${id}`);
            showAlert('success', `Wanted request #W${id} has been approved!`);
        }

        function rejectWanted(id) {
            const reason = prompt('Please provide a reason for rejection:');
            if (reason) {
                console.log(`Rejecting wanted request #W${id} - Reason: ${reason}`);
                showAlert('danger', `Wanted request #W${id} has been rejected.`);
            }
        }

        // Reported content management
        function viewReport(id) {
            showModal('Report Details', `
                <div style="display: grid; gap: 15px;">
                    <div><strong>Report ID:</strong> #R${id}</div>
                    <div><strong>Content:</strong> Vehicle Listing #12834</div>
                    <div><strong>Reason:</strong> Suspicious Pricing</div>
                    <div><strong>Reporter:</strong> user@email.com</div>
                    <div><strong>Description:</strong> The price seems too low for this vehicle model and year. Possible scam.</div>
                    <div><strong>Date Reported:</strong> 2024-01-15</div>
                    <div style="margin-top: 20px;">
                        <button class="btn btn-success" onclick="dismissReport(${id}); closeModal();">‚úÖ Dismiss Report</button>
                        <button class="btn btn-danger" onclick="takeAction(${id}); closeModal();" style="margin-left: 10px;">üö´ Take Action</button>
                    </div>
                </div>
            `);
        }

        function dismissReport(id) {
            console.log(`Dismissing report #R${id}`);
            showAlert('success', `Report #R${id} has been dismissed.`);
        }

        function takeAction(id) {
            const action = prompt('What action would you like to take?\n1. Remove listing\n2. Suspend user\n3. Request clarification\n\nEnter 1, 2, or 3:');
            if (action) {
                console.log(`Taking action on report #R${id}: ${action}`);
                showAlert('warning', `Action taken on report #R${id}.`);
            }
        }

        // User management
        function viewUser(id) {
            showModal('User Details', `
                <div style="display: grid; gap: 15px;">
                    <div><strong>User ID:</strong> #U${id}</div>
                    <div><strong>Name:</strong> John Silva</div>
                    <div><strong>Email:</strong> john@email.com</div>
                    <div><strong>Phone:</strong> +94 77 123 4567</div>
                    <div><strong>User Type:</strong> Seller</div>
                    <div><strong>Active Listings:</strong> 3</div>
                    <div><strong>Join Date:</strong> 2024-01-10</div>
                    <div><strong>Last Login:</strong> 2024-01-15 14:30</div>
                    <div style="margin-top: 20px;">
                        <button class="btn btn-secondary" onclick="editUser(${id}); closeModal();">‚úèÔ∏è Edit User</button>
                        <button class="btn btn-danger" onclick="suspendUser(${id}); closeModal();" style="margin-left: 10px;">üö´ Suspend</button>
                    </div>
                </div>
            `);
        }

        function editUser(id) {
            console.log(`Editing user #U${id}`);
            showAlert('info', 'Redirecting to user edit form...');
        }

        function suspendUser(id) {
            const reason = prompt('Please provide a reason for suspension:');
            if (reason) {
                console.log(`Suspending user #U${id} - Reason: ${reason}`);
                showAlert('warning', `User #U${id} has been suspended.`);
            }
        }

        // Analytics
        function updateAnalytics(period) {
            console.log(`Updating analytics for period: ${period}`);
            showAlert('info', `Analytics updated for ${period} period.`);
        }

        // Settings
        function saveSettings(event) {
            event.preventDefault();
            console.log('Saving settings...');
            showAlert('success', 'Settings saved successfully!');
        }

        // Utility functions
        function showModal(title, content) {
            document.getElementById('modalTitle').textContent = title;
            document.getElementById('modalBody').innerHTML = content;
            document.getElementById('viewModal').classList.add('active');
        }

        function closeModal() {
            document.getElementById('viewModal').classList.remove('active');
        }

        function showAlert(type, message) {
            // Create alert element
            const alert = document.createElement('div');
            alert.className = `alert alert-${type}`;
            alert.innerHTML = message;
            
            // Insert at top of main content
            const mainContent = document.querySelector('.main-content');
            mainContent.insertBefore(alert, mainContent.firstChild);
            
            // Auto remove after 5 seconds
            setTimeout(() => {
                alert.remove();
            }, 5000);
        }

        function logout() {
            if (confirm('Are you sure you want to logout?')) {
                console.log('Logging out...');
                alert('Redirecting to login page...');
            }
        }

        // Initialize dashboard
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Admin dashboard loaded successfully');
            
            // Close modal when clicking outside
            document.getElementById('viewModal').addEventListener('click', function(e) {
                if (e.target === this) {
                    closeModal();
                }
            });

            // Auto-refresh stats every 30 seconds (in a real app)
            setInterval(() => {
                console.log('Auto-refreshing stats...');
            }, 30000);
        });

        // Keyboard shortcuts
        document.addEventListener('keydown', function(e) {
            if (e.ctrlKey || e.metaKey) {
                switch(e.key) {
                    case '1':
                        e.preventDefault();
                        showSection('dashboard');
                        break;
                    case '2':
                        e.preventDefault();
                        showSection('listings');
                        break;
                    case '3':
                        e.preventDefault();
                        showSection('wanted');
                        break;
                    case '4':
                        e.preventDefault();
                        showSection('reported');
                        break;
                }
            }
            
            // ESC to close modal
            if (e.key === 'Escape') {
                closeModal();
            }
        });
    </script>
</body>
</html>